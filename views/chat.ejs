<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<link href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" rel="stylesheet" />
<link href="/stylesheets/chat.css" rel="stylesheet" />

<div class="page-content page-container chat-container" id="page-content">
  <div class="padding chat-card centralized content">
    <div class="user-chat-container">
      <!--informa√ß√µes do usuario-->
      <div class="left-aligned bordadaora tamanhodasinfo user-info">
        <img class="fotodolado user-image" src="/imagens/<%= imagem %>">
        <div class="left-aligned2 user-details">
          <h1 class="user-name">
            <%= nome %>
          </h1> <!-- Nome do tatuador -->
          <h2 class="user-style">
            <%= estilo %>
          </h2> <!-- Estilo do tatuador -->

          <div class="description">
            <h4>
              <%= descricao ? descricao : "Esse usu√°rio ainda n√£o tem descri√ß√£o üò•" %>
            </h4> <!-- Descri√ß√£o do tatuador -->
          </div>
          <div id="imagens-container">
            <div class="imagens-tatuador">
              <% if (imagens && imagens.length > 0) { %>
                <% imagens.forEach(function(imagem) { %>
                  <img src="/imagens/<%= imagem.imagen %>" alt="" class="imagem-perfil">
                <% }) %>
              <% } else { %>
                <p>Esse usu√°rio ainda n√£o adicionou imagens.</p>
              <% } %>
            </div>
          </div>
        </div>
      </div>
      <!--informa√ß√µes do usuario-->
      <!--chat-->
      <div class="chat-container bordadaora">
        <div class="chatinteiro">
          <div class="headerchat">
            <h4 class="tamanhoconversa"><strong class="chatacima">Chat</strong></h4>
          </div>
          <div class="ps-container ps-theme-default ps-active-y chataqui" id="chat-conteudo"
            style="overflow-y: scroll !important; height: 690px !important">
            <!-- As mensagens ser√£o carregadas aqui -->
          </div>
          <form action="javascript:enviaMensagens()">
            <div class="publisher bt-1 border-light chat-input-container">
              <% if (imagem) { %>
                <% if (imagem.search("https") === -1) { %>
                  <img src="/imagens/<%= usuario.imagem %>" alt="Foto de perfil"
                    class="w-10 h-10 rounded-full chat-profile-pic imgdaora" />
                <% } else { %>
                  <img src="<%= imagem %>" alt="Foto de perfil"
                    class="w-10 h-10 rounded-full chat-profile-pic imgdaora" />
                <% } %>
              <% } else { %>
                <img src="/imagens/userDefault.png" alt="Foto de perfil"
                  class="w-10 h-10 rounded-full chat-profile-pic imgdaora" />
              <% } %>
              <input class="publisher-input chat-input textolinha" type="text"
                placeholder="Escreva uma mensagem" id="mensagem" />
              <input type="submit" class="botaomaluco"></input>
            </div>
          </form>
        </div>
      </div>
      <!--chat-->
    </div>
  </div>
</div>
<script type="text/javascript" src="/javascripts/chat.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const imagens = document.querySelectorAll('.imagem-perfil');

    imagens.forEach(function (imagem) {
      imagem.addEventListener('mouseover', function () {
        this.style.transform = 'scale(1.5)';
        this.style.transition = 'transform 0.3s ease';
        this.style.zIndex = '10'; // Adiciona um z-index maior
      });

      imagem.addEventListener('mouseout', function () {
        this.style.transform = 'scale(1)';
        this.style.zIndex = '1'; // Restaura o z-index original
      });
    });

    if (editarDescricaoBtn) {
      editarDescricaoBtn.addEventListener('click', function () {
        descricaoForm.style.display = 'block';
        editarDescricaoBtn.style.display = 'none';
        commentsSection.style.display = 'none'; // Esconde a se√ß√£o de coment√°rios
      });
    }
  });
</script>